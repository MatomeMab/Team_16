@model IEnumerable<Nazox.Models.Date>

@{
    ViewBag.Title = "Date Home Index";
}

<h2>Date Index</h2>



<link href="~/assets/libs/admin-resources/jquery.vectormap/jquery-jvectormap-1.2.2.css" rel="stylesheet" type="text/css" />

<!-- DataTables -->
<link href="~/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/css/bootstrap.min.css" rel="stylesheet" />
<!-- Responsive datatable examples -->
<link href="~/assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/css/app.min.css" rel="stylesheet" />
<link href="~/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/libs/datatables.net-select-bs4/css//select.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<!-- Responsive datatable examples -->
<link href="~/assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />



<div class="row">
    <div class="col-xl-12">
        <div class="card">
            <div class="card-body ">

                <h4 class="card-title">Dates and Time Slots</h4>

                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" href="#home" role="tab">
                            <span class="d-block d-sm-none"><i class="fas fa-home"></i></span>
                            <span class="d-none d-sm-block">Dates</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#profile" role="tab">
                            <span class="d-block d-sm-none"><i class="far fa-user"></i></span>
                            <span class="d-none d-sm-block">Time Slots</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#messages" role="tab">
                            <span class="d-block d-sm-none"><i class="far fa-envelope"></i></span>
                            <span class="d-none d-sm-block">Date Time Slots</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#settings" role="tab">
                            <span class="d-block d-sm-none"><i class="fas fa-cog"></i></span>
                            <span class="d-none d-sm-block">Asign  Drivers</span>
                        </a>
                    </li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content p-3 text-muted">
                    <div class="tab-pane active" id="home" role="tabpanel">
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">
                                        <p>
                                            <a href="@Url.Action("Create")" class="btn btn-xs btn-primary waves-effect waves-light pull-right">Add Date</a>
                                        </p>
                                        <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                            <tr>
                                                <th>
                                                    Date
                                                </th>
                                                <th>Actions</th>
                                            </tr>

                                            @foreach (var item in Model)
                                            {
                                                <tr>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Date1)
                                                    </td>
                                                    <td>
                                                        @Html.ActionLink("Edit", "Edit", new { id = item.Date_ID }) |
                                                        @Html.ActionLink("Details", "Details", new { id = item.Date_ID }) |
                                                        @Html.ActionLink("Delete", "Delete", new { id = item.Date_ID })
                                                    </td>
                                                </tr>

                                            }
                                            <tfoot>
                                                <tr>
                                                    <th>
                                                        Date
                                                    </th>
                                                    <th>Actions</th>
                                                </tr>
                                            </tfoot>
                                        </table>

                                    </div> <!-- end card body-->
                                </div> <!-- end card -->
                            </div><!-- end col-->
                        </div>
                    </div>
                    <div class="tab-pane" id="profile" role="tabpanel">
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">

                                        <p>
                                            <a href="@Url.Action("Create","TimeSlots")" class="btn btn-primary waves-effect waves-light">Add Time Slot</a>
                                        </p>
                                        <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                            <tr style="font-weight:bold">
                                                <th>
                                                    Start Time
                                                </th>
                                                <th>
                                                    End Time
                                                </th>
                                                <th>Actions</th>
                                            </tr>

                                            @foreach (var item in ViewBag.TimeSlots)
                                            {
                                                <tr>
                                                    <td>
                                                        @item.StartTime
                                                    </td>
                                                    <td>
                                                        @item.EndTime
                                                    </td>
                                                    <td>

                                                        <a href="@Url.Action("Edit","TimeSlots", new { id = item.TimeSlot_ID })" class="btn btn-primary waves-effect waves-light">Edit</a>
                                                        <a href="@Url.Action("Details","TimeSlots", new { id = item.TimeSlot_ID })" class="btn btn-success waves-effect waves-light">Details</a>
                                                        <a href="@Url.Action("Delete","TimeSlots", new { id = item.TimeSlot_ID })" class="btn btn-danger waves-effect waves-light">Delete</a>

                                                    </td>
                                                </tr>

                                                <tr style="font-weight:bold">
                                                    <th>
                                                        Start Time
                                                    </th>
                                                    <th>
                                                        End Time
                                                    </th>
                                                    <th>Actions</th>
                                                </tr>
                                            }

                                        </table>

                                    </div> <!-- end card body-->
                                </div> <!-- end card -->
                            </div><!-- end col-->
                        </div>
                    </div>
                    <div class="tab-pane" id="messages" role="tabpanel">
                        <p>
                            <a href="@Url.Action("Create","DateOrTimeSlots")" class="btn btn-primary waves-effect waves-light">Add Time Slot</a>
                        </p>
                        <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                            <tr style="font-weight:bold">
                                <th>
                                    Date
                                </th>
                                <th>
                                    Time Slot
                                </th>
                                <th>Actions</th>
                            </tr>

                            @foreach (var item in ViewBag.DateOrTimeSlots)
                            {
                                <tr>
                                    <td>
                                        @item.Date.Date1
                                    </td>
                                    <td>
                                        @{
                                            var combined = item.TimeSlot.StartTime + " - " + item.TimeSlot.EndTime;
                                            @combined
                                        }
                                    </td>
                                    <td>
                                        @Html.ActionLink("Edit", "DateOrTimeSlots", new { id = item.DateorTimeslot_ID }) |
                                        @Html.ActionLink("Details", "DateOrTimeSlots", new { id = item.DateorTimeslot_ID }) |
                                        @Html.ActionLink("Delete", "DateOrTimeSlots", new { id = item.DateorTimeslot_ID })
                                    </td>
                                </tr>

                            }

                            <tr style="font-weight:bold">
                                <th>
                                    Start Time
                                </th>
                                <th>
                                    End Time
                                </th>
                                <th>Actions</th>
                            </tr>

                        </table>

                    </div>
                    <div class="tab-pane" id="settings" role="tabpanel">
                        <p>
                            <a href="@Url.Action("Create","DateTimeSlotDrivers")" class="btn btn-primary waves-effect waves-light">Add Driver</a>
                        </p>


                        <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                            <tr style="font-weight:bold">
                                <th>
                                    EmployeeName
                                </th>
                                <th>
                                    Description
                                </th>
                                <th>
                                    Date Or Time Slot
                                </th>
                                <th>Actions</th>
                            </tr>


                            @{
                                if (ViewBag.DateTimeSlotDrivers != null)
                                {

                                    foreach (var item in ViewBag.DateTimeSlotDrivers)
                                    {
                                        <tr>
                                            <td>
                                                @item.Employee.EmployeeName
                                            </td>
                                            <td>
                                                @item.Description
                                            </td>

                                            <td>
                                                @{
                                                    var dateTimeSlot = item.DateOrTimeSlot.TimeSlot.StartTime + " - " + item.DateOrTimeSlot.TimeSlot.EndTime;
                                                    @dateTimeSlot
                                                }
                                            </td>

                                            <td>
                                                @Html.ActionLink("Edit", "DateOrTimeSlots", new { id = item.DateorTimeslot_ID }) |
                                                @Html.ActionLink("Details", "DateOrTimeSlots", new { id = item.DateorTimeslot_ID }) |
                                                @Html.ActionLink("Delete", "DateOrTimeSlots", new { id = item.DateorTimeslot_ID })
                                            </td>
                                        </tr>


                                    }
                                }
                            }

                            <tr style="font-weight:bold">
                                <th>
                                    EmployeeName
                                </th>
                                <th>
                                    Description
                                </th>
                                <th>
                                    Date Or Time Slot
                                </th>

                                <th>Actions</th>
                            </tr>

                        </table>

                    </div>
                </div>

            </div>
        </div>
    </div>


</div>


<!-- end row-->
<!-- JAVASCRIPT -->
<script src="~/assets/libs/jquery/jquery.min.js"></script>
<script src="~/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/libs/metismenu/metisMenu.min.js"></script>
<script src="~/assets/libs/simplebar/simplebar.min.js"></script>
<script src="~/assets/libs/node-waves/waves.min.js"></script>
<script src="~/assets/libs/node-waves/waves.min.js"></script>
<!-- apexcharts -->
<script src="~/assets/libs/apexcharts/apexcharts.min.js"></script>
<script src="~/assets/libs/metismenu/metisMenu.min.js"></script>
<!-- jquery.vectormap map -->
<script src="~/assets/libs/admin-resources/jquery.vectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="~/assets/libs/admin-resources/jquery.vectormap/maps/jquery-jvectormap-us-merc-en.js"></script>

<!-- Required datatable js -->
<script src="~/assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="~/assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>

<!-- Responsive examples -->
<script src="~/assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="~/assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

<script src="~/assets/js/pages/dashboard.init.js"></script>

<!-- App js -->
<script src="~/assets/js/app.js"></script>

